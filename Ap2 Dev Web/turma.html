<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/turma.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Turma</title>
</head>

<body>
    <button id="toggle-theme" class="theme-toggle-btn" title="Alternar tema">üåô</button>
    <nav class="menu">
        <button class="shrink-btn" title="Reduzir barra" onclick="toggleMenuBar()">&#9776;</button>
        <a href="main.html" data-short="üè†">Main</a>
        <a href="aluno.html" data-short="üë®‚Äçüéì">Aluno</a> 
        <a href="professor.html" data-short="üë®‚Äçüè´">Professor</a> 
        <a href="turma.html" class="active" data-short="üìö">Turma</a>
    </nav>
    <script>
    function toggleMenuBar() {
        document.querySelector('.menu').classList.toggle('shrink');
    }
    </script>

    <h1>Cadastro de Turma</h1>

  <form id="turma-form">
    <label>Mat√©ria: <input type="text" name="materia" required></label><br>
    <label>Descri√ß√£o: <input type="text" name="descricao"></label><br>
    <label>Professor ID: <input type="number" name="professor_id"></label><br>
    <label>Ativo: <select name="ativo"><option value="true">Sim</option><option value="false">N√£o</option></select></label><br>
    <button type="submit">Cadastrar Turma</button>
  </form>

  <hr>

  <button id="listar-turmas">Listar Turmas</button>
  <div id="turmas-lista"></div>

  <div id="edit-popup-turma">
    <h2>Editar Turma</h2>
    <form id="update-form-turma">
      <input type="hidden" id="turma-id">
      <label>Mat√©ria: <input type="text" id="update-materia" required></label><br>
      <label>Descri√ß√£o: <input type="text" id="update-descricao"></label><br>
      <label>Professor ID: <input type="number" id="update-professor_id"></label><br>
      <label>Ativo: <select id="update-ativo"><option value="true">Sim</option><option value="false">N√£o</option></select></label><br>
      <button type="submit">Atualizar</button>
      <button type="button" id="close-popup-turma">Fechar</button>
    </form>
  </div>

  <div id="page-loader">
    <svg class="checkmark" viewBox="0 0 52 52">
      <circle cx="26" cy="26" r="25" fill="none"/>
      <path class="check" fill="none" d="M14 27l7 7 16-16"/>
    </svg>
  </div>

  <script src="js/turma.js"></script>
  <script>
    const themeBtn = document.getElementById('toggle-theme');
    function setThemeIcon() {
      themeBtn.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
    }
    themeBtn.onclick = function() {
      document.body.classList.toggle('dark-mode');
      if(document.body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
      setThemeIcon();
    };
    window.onload = function() {
      if(localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
    };
  </script>
  <script>
    const path = window.location.pathname;
    if (path.includes("aluno")) document.getElementById("nav-aluno")?.classList.add("active");
    if (path.includes("professor")) document.getElementById("nav-professor")?.classList.add("active");
    if (path.includes("turma")) document.getElementById("nav-turma")?.classList.add("active");
  </script>
</body>
</html>