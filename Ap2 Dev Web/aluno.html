<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/aluno.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Aluno</title>
</head>

<body>
  <button id="toggle-theme" class="theme-toggle-btn" title="Alternar tema">üåô</button>
    <nav class="menu">
        <button class="shrink-btn" title="Reduzir barra" onclick="toggleMenuBar()">&#9776;</button>
        <a href="main.html" data-short="üè†">Main</a>
        <a href="aluno.html" class="active" data-short="üë®‚Äçüéì">Aluno</a> 
        <a href="professor.html" data-short="üë®‚Äçüè´">Professor</a> 
        <a href="turma.html" data-short="üìö">Turma</a>
    </nav>
    <script>
    function toggleMenuBar() {
        document.querySelector('.menu').classList.toggle('shrink');
        }
    </script>
  <h1>Cadastro de Aluno</h1>

  <form id="aluno-form">
    <label>Nome: <input type="text" name="nome" required></label><br>
    <label>Data de Nascimento: <input type="date" name="data_nascimento" required></label><br>
    <label>Nota 1¬∫ Semestre: <input type="number" step="0.01" name="nota_primeiro_semestre" required></label><br>
    <label>Nota 2¬∫ Semestre: <input type="number" step="0.01" name="nota_segundo_semestre" required></label><br>
    <label>ID da Turma: <input type="number" name="turma_id" required></label><br>
    <button type="submit">Cadastrar Aluno</button>
  </form>

  <hr>

  <button id="listar-alunos">Listar Alunos</button>
  <div id="alunos-lista"></div>

  <div id="edit-popup">
    <h2>Editar Aluno</h2>
    <form id="update-form">
      <input type="hidden" id="aluno-id">
      <label>Nome: <input type="text" id="update-nome" required></label><br>
      <label>Data de Nascimento: <input type="date" id="update-data_nascimento" required></label><br>
      <label>Nota 1¬∫ Semestre: <input type="number" step="0.01" id="update-nota_primeiro_semestre" required></label><br>
      <label>Nota 2¬∫ Semestre: <input type="number" step="0.01" id="update-nota_segundo_semestre" required></label><br>
      <label>ID da Turma: <input type="number" id="update-turma_id" required></label><br>
      <button type="submit">Atualizar</button>
      <button type="button" id="close-popup">Fechar</button>
    </form>
  </div>

  <div id="page-loader">
    <svg class="checkmark" viewBox="0 0 52 52">
      <circle cx="26" cy="26" r="25" fill="none" />
      <path class="check" fill="none" d="M14 27l7 7 16-16" />
    </svg>
  </div>

  <script src="js/aluno.js"></script>
  <script>
    const path = window.location.pathname;
    if (path.includes("aluno")) document.getElementById("nav-aluno").classList.add("active");
    if (path.includes("professor")) document.getElementById("nav-professor").classList.add("active");
    if (path.includes("turma")) document.getElementById("nav-turma").classList.add("active");
  </script>
  <script>
    const themeBtn = document.getElementById('toggle-theme');
    function setThemeIcon() {
      themeBtn.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
    }
    themeBtn.onclick = function() {
      document.body.classList.toggle('dark-mode');
      if(document.body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
      setThemeIcon();
    };
    window.onload = function() {
      if(localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
    };
  </script>
</body>

</html>